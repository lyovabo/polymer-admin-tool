<html><head><link rel="import" href="../../../../bower_components/polymer/polymer.html">

</head><body><dom-module id="pa-login">
  <template>
    <style>
      :host {
        display: block;
       
      }
      :host #wrapper {
        background-color: #fff;
        position: absolute;
        top    : 0;
        left   : 0;
        bottom : 0;
        right  : 0;
        display: flex;
        justify-content: center;
        z-index: 1000;
      }
    </style>
    <firebase-auth id="charlotte" provider="google" user="{{user}}" status-known="{{statusKnown}}">
    </firebase-auth>
    <div id="wrapper" hidden$="{{isHidden}}">
      
      <paper-button on-tap="signIn">Sign in</paper-button>

      <paper-toast id="toast2" duration="0" text="You have no access permission to this resource.">
      <paper-button class="yellow-button" onclick="document.querySelector('#toast2').toggle()">Close</paper-button>
    </paper-toast>
    </div>

  </template>
  <script>!function(){"use strict";Polymer({is:"pa-login",ready:function(){var n=this;firebase.auth().onAuthStateChanged(function(e){console.log(e),e?n.isHidden=!0:n.isHidden=!1})},properties:{user:{type:Object},isHidden:{type:Boolean}},signIn:function(){var n=this;this.$.charlotte.signInWithPopup().then(function(e){n.getJson().then(function(e){n.isHidden=!0},function(e){n.isHidden=!1,n.$$("#toast2").open()})})},getJson:function(){var n=new Promise(function(n,e){var t=firebase.database().ref();t.on("value",function(e){n(e.val())},function(n){e(n.code)})});return n}})}();</script>
</dom-module>
</body></html>